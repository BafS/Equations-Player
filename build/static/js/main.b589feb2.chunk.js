(this.webpackJsonpphase=this.webpackJsonpphase||[]).push([[0],{183:function(e,t,n){e.exports=n(289)},188:function(e,t,n){},284:function(e,t,n){},289:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n.n(a),o=n(180),i=n.n(o),l=(n(188),n(109)),c=n(181),s=n.n(c),u=(n(284),n(182)),f=r.a.forwardRef((function(e,t){var n=e.handleClick,a=e.children,o=Object(u.a)(e,["handleClick","children"]);return r.a.createElement("button",Object.assign({className:"btn"},o,{onClick:n}),a)})),h=function(e){var t=e.defaultValue,n=e.handleChange,a=e.min,o=void 0===a?void 0:a,i=e.max,l=void 0===i?void 0:i;return r.a.createElement("input",{className:"input",min:o,max:l,type:"number",placeholder:"Search",defaultValue:t,onChange:n})};var m={background:"#000",function:"rgba(60, 169, 248, .8)",overflow:"rgba(255, 0, 0, .75)",strokeStyle:"rgba(200, 200, 200, .25)",text:"rgba(200, 200, 200, .9)",peaks:{top:"rgba(255, 50, 50, .2)",bottom:"rgba(50, 255, 50, .2)"}},d={lineDash:[3,6],lineWidth:1,font:"12px monospace"};function b(e,t){var n=t.getContext("2d");if(!n)throw new Error("Context is not available");n.fillStyle=m.background,n.fillRect(0,0,t.width,t.height);var a=1e3*e.duration,r=t.width/a;n.font=d.font;var o=1e3/Math.pow(10,Math.floor(Math.log(2*r)*Math.LOG10E+1));n.strokeStyle=m.strokeStyle,n.lineWidth=d.lineWidth,n.setLineDash(d.lineDash);for(var i=0;i<a;i+=o){var l=Math.round(i*r);n.fillStyle=m.text,n.fillText("".concat(i,"ms"),i*r+4,t.height-5),i>0&&(n.beginPath(),n.moveTo(l+.5,0),n.lineTo(l+.5,t.height),n.stroke(),n.fillStyle="rgba(100, 100, 100)",n.fillRect(l,0,1,25),n.fillRect(l,t.height-25,1,25))}return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.getContext("2d");if(!a)throw new Error("Context is not available");n&&a.clearRect(0,0,t.width,t.height);var r=t.width-1,o=t.height-1;a.lineWidth=d.lineWidth,a.strokeStyle=m.strokeStyle;var i=o/2;a.setLineDash(d.lineDash);for(var l=1;l<10;++l){a.beginPath();var c=Math.round(l*(i/10*2));a.moveTo(0,.5+c),a.lineTo(r,.5+c),a.stroke()}a.fillStyle="rgba(50, 50, 50, .9)",a.fillRect(0,i+.5,r,1),a.strokeStyle=m.function,a.setLineDash([]),a.beginPath(),a.lineWidth=1.5*d.lineWidth;var s=(r+1)/e.length,u=-o/2,f=null,h=[1/0,-1/0];e.forEach((function(e,t){(e-=1)>h[1]?h[1]=e:e<h[0]&&(h[0]=e),t*=s,f&&e>0?(a.fillStyle=m.overflow,a.fillRect(t-1,0,1,3)):f&&e<-2&&(a.fillStyle=m.overflow,a.fillRect(t-1,o,1,-3)),e*=u,f&&(a.moveTo(f[0],f[1]),a.lineTo(t,e)),f=[t,e]})),a.stroke(),a.fillStyle=m.text;var b=Math.floor(h[1]*u),v=Math.ceil(h[0]*u);return a.fillText(" \xdb",r-20,Math.max(15,b-6)),a.fillText("-\xdb",r-20,Math.min(o-8,v+15)),a.fillStyle=m.peaks.bottom,a.fillRect(0,b,r,1),a.fillStyle=m.peaks.top,a.fillRect(0,v,r,1),t}(e.getChannelData(0),t)}var v=n(172);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=["INPUT"],E=function(e,t){switch(t.type){case"ACTION_SET_KEY_DOWN":return g({},e,Object(v.a)({},t.key,!0));case"ACTION_SET_KEY_UP":return g({},e,Object(v.a)({},t.key,!1));default:return e}},O=function(e,t){if(!Array.isArray(e))throw new Error("The first parameter to `useKeyboardShortcut` must be an ordered array of `KeyboardEvent.key` strings.");if(!e.length)throw new Error("The first parameter to `useKeyboardShortcut` must contain at least one `KeyboardEvent.key` string.");if(!t||"function"!==typeof t)throw new Error("The second parameter to `useKeyboardShortcut` must be a function that will be invoked when the keys are pressed.");var n=e.reduce((function(e,t){return e[t.toLowerCase()]=!1,e}),{}),r=Object(a.useReducer)(E,n),o=Object(l.a)(r,2),i=o[0],c=o[1],s=Object(a.useCallback)((function(e){var t=e.key,n=e.target,a=e.repeat,r=t.toLowerCase();a||w.includes(n.tagName)||void 0===i[r]||!1===i[r]&&c({type:"ACTION_SET_KEY_DOWN",key:r})}),[i]),u=Object(a.useCallback)((function(e){var t=e.key,n=e.target,a=t.toLowerCase();w.includes(n.tagName)||void 0===i[a]||!0===i[a]&&c({type:"ACTION_SET_KEY_UP",key:a})}),[i]);Object(a.useEffect)((function(){Object.values(i).filter((function(e){return!e})).length||t(i)}),[t,i]),Object(a.useEffect)((function(){return window.addEventListener("keydown",s,!0),function(){return window.removeEventListener("keydown",s,!0)}}),[s]),Object(a.useEffect)((function(){return window.addEventListener("keyup",u,!0),function(){return window.removeEventListener("keyup",u,!0)}}),[u])},y=function(e){var t,n=e.buffer,o=e.options,i=(o=void 0===o?{width:800,height:350}:o).width,c=o.height,s=Object(a.useState)(!1),u=Object(l.a)(s,2),h=u[0],m=u[1];return Object(a.useEffect)((function(){var e=new AudioContext;return h?((t=e.createBufferSource()).buffer=n,t.connect(e.destination),t.loop=!0,t.start()):t&&t.stop(),function(){return t&&t.stop()}}),[h]),O(["Control","S"],Object(a.useCallback)((function(){m((function(e){return!e}))}),[m])),r.a.createElement("div",{className:"player"},r.a.createElement(j,{buffer:n,options:{width:i,height:c}}),r.a.createElement("div",{className:"panel"},r.a.createElement("span",{className:"text-dark text-sm"},"Length: ",n.duration,"s | "),r.a.createElement("span",{className:"text-dark text-sm"},"Frequency: ",n.sampleRate,"hz | "),r.a.createElement(f,{className:"btn btn-sm",handleClick:function(){m((function(e){return!e}))}},h?"stop":"play"),r.a.createElement("span",{className:"text-dark text-sm"}," (Ctrl+S)")))},j=function(e){var t=e.buffer,n=e.options,o=(n=void 0===n?{width:800,height:350}:n).width,i=n.height,l=Object(a.useRef)(null);return Object(a.useEffect)((function(){l.current&&b(t,l.current)}),[t,o]),r.a.createElement("canvas",{ref:l,width:o,height:i})},k=function(){var e,t=Object(a.useState)(["const a = 440;","const sum = (fn, [min, max]) => Array(max - min + 1).fill().reduce((sum, _, i) => sum + fn(i + min), 0);","","// Main waveforms","Math.sin(440 * t * Math.PI * 2); // sine","(-1) ** Math.floor(2 * 440 * t); // square","(440 * t - Math.round(440 * t)) * 2; // sawtooth","4 * Math.abs(440 * t - Math.round(t*440)) - 1; // triangle"].join("\n")),n=Object(l.a)(t,2),o=n[0],i=n[1],c=Object(a.useState)(null),u=Object(l.a)(c,2),m=u[0],d=u[1],b=Object(a.useState)(window.innerWidth),v=Object(l.a)(b,2),p=v[0],g=v[1],w=Object(a.useState)(1e3),E=Object(l.a)(w,2),j=E[0],k=(E[1],Object(a.useState)(100)),S=Object(l.a)(k,2),C=S[0],x=S[1],N=Object(a.useState)(""),T=Object(l.a)(N,2),M=T[0],L=T[1],R=function(e,t){var n=Object(a.useRef)(),r=Object(a.useState)(0),o=Object(l.a)(r,2),i=o[0],c=o[1];return Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(i>0){var e=setTimeout((function(){c(0),n.current&&n.current()}),t);return function(){return clearTimeout(e)}}}),[i,t]),function(){return c((function(e){return e+1}))}}((function(){return g(window.innerWidth)}),500),P=function(e){var t=e.trim().split("\n"),n=t.pop();if(n){n.trimStart().startsWith("return")||n.trimStart().startsWith("//")||(n="return ".concat(n));var a=t.concat(n).join("\n");try{var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;arguments.length>2&&void 0!==arguments[2]&&arguments[2],console.time("s");for(var n=new AudioContext,a=t/1e3*n.sampleRate,r=n.createBuffer(2,a,n.sampleRate),o=new Function("t",e),i=0,l=0;l<r.numberOfChannels;l++)for(var c=r.getChannelData(l),s=0;s<r.length;++s){var u=o(s/n.sampleRate);Math.abs(u)>i&&(i=Math.abs(u)),c[s]=u}return i>1&&console.warn("Max: ",i),console.log(console.timeEnd("s")),r}(a,C,j);d(r),L("")}catch(o){L(o.toString()),console.error(o)}}},D=function(){return P(o)};return Object(a.useLayoutEffect)((function(){return window.addEventListener("resize",R),function(){return window.removeEventListener("resize",R)}})),O(["Control","1"],Object(a.useCallback)((function(){return D()}),[o])),O(["Control","2"],Object(a.useCallback)((function(){return function(){if(e){var t=e.getPosition();if(null!==t){var n=t.lineNumber,a=e.getValue().trim().split("\n").slice(0,n);P(a.join("\n"))}}}()}),[])),r.a.createElement("div",{className:"App"},r.a.createElement("div",null,r.a.createElement("div",{className:"text-title"},"PHASE"),r.a.createElement("div",{className:"main-plot"},m?r.a.createElement(y,{buffer:m,options:{width:p,height:350}}):r.a.createElement("span",{className:"text-dark text-sm"},'(click on "process" to generate and plot the audio)')),r.a.createElement("div",{className:"main-panel"},r.a.createElement("div",{className:"right"},r.a.createElement(f,{handleClick:D},"process code"),r.a.createElement("span",{className:"text-dark text-sm"}," (Ctrl+1)"),r.a.createElement("br",null),r.a.createElement("span",{className:"text-dark text-sm"},"process line: (Ctrl+2)")),r.a.createElement("span",null,r.a.createElement("em",null,"t",r.a.createElement("sub",null,"max")),":",r.a.createElement(h,{min:0,max:1e5,defaultValue:C,handleChange:function(e){return x(+e.target.value)}}),"ms"),r.a.createElement("br",null))),r.a.createElement("div",{className:"editor-panel"},r.a.createElement("span",null,r.a.createElement("em",null,"F(t)")," = "),M?r.a.createElement("div",{className:"text-error"},M):"",r.a.createElement(s.a,{width:p,height:"270",language:"javascript",theme:"vs-dark",value:o,options:{selectOnLineNumbers:!0,minimap:{enabled:!1},lineDecorationsWidth:".2ch",lineNumbersMinChars:3,fontSize:13,scrollBeyondLastLine:!1,hideCursorInOverviewRuler:!0},onChange:i,editorDidMount:function(t){(e=t).focus()}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[183,1,2]]]);